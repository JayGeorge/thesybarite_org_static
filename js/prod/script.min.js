/*! Notes...

    Author: Jay George
    Author URI: https://jaygeorge.co.uk

    ABOUT THIS JAVASCRIPT
    ===================================================
    The following is placed in the `head` file as an inline script to improve performance
    <script>
        // Tell the html ASAP (without JS) to prevent a flicker of DOM changes e.g. nav collapsed.
        document.querySelector('html').classList.remove('no-js');
        document.querySelector('html').classList.add('js');
    <\/script>

    - JS 'hooks' in the DOM are prefixed with `__` and written in camel case like this `js__thisIsAHook`
    - Classes added by JS are prefixed with `--` and written in camel case like this `js--thisHasBeenAddedByJS`

*/
function megaMenuStateClose(){document.querySelector("html").classList.remove("js--megaMenuIsOpen"),Array.from(document.querySelectorAll("nav")||[]).forEach((e=>{e.classList.remove("js--megaMenuActive")})),Array.from(document.querySelectorAll(".c-mega-menu-container")||[]).forEach((e=>{e.classList.add("js--megaMenuClosed"),e.classList.remove("js--megaMenuActive")})),Array.from(document.querySelectorAll(".js--megaMenuActiveCurrentMenu")||[]).forEach((e=>{e.classList.remove("js--megaMenuActiveCurrentMenu")}))}function megaMenuClose(){document.querySelector("html").classList.add("js--megaMenuHasBeenClosed"),document.querySelector("html").classList.remove("js--megaMenuIsOpen-fadeFromNowOn","js--megaMenuHasFinishedAnimatingIn","js--megaMenuIsOpen")}function adjustMegaMenuFormFactor(){window.innerWidth>1200&&document.querySelector("html").classList.remove("js--navIsOpen")}function searchStateClose(){document.querySelector("html").classList.remove("js--megaMenuSearchIsOpen")}Array.from(document.querySelectorAll(".js__nav-mobile-button")||[]).forEach((e=>{e.onclick=function(){document.querySelector("html").classList.toggle("js--navIsOpen"),document.querySelector("html").classList.add("js--navHasBeenOpened")}})),window.onresize=adjustMegaMenuFormFactor,Array.from(document.querySelectorAll(".js__megaMenuInitiate")).forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault(),document.querySelector("html").classList.remove("js--megaMenuHasBeenClosed"),document.querySelector("html").classList.contains("js--megaMenuIsOpen")&&document.querySelector("html").classList.add("js--megaMenuIsOpen-fadeFromNowOn"),megaMenuStateClose(),e.nextElementSibling.focus(),document.querySelector("html").classList.add("js--megaMenuIsOpen"),document.querySelector("html").classList.add("js--megaMenuIsOpen","js--megaMenuHasBeenOpened"),e.nextElementSibling.classList.toggle("js--megaMenuActive"),e.classList.toggle("js--megaMenuActiveCurrentMenu"),setTimeout((function(){e.closest("nav").classList.add("js--megaMenuActive")}),50)}))})),Array.from(document.querySelectorAll(".js__searchInitiate")).forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("html").classList.add("js--megaMenuSearchIsOpen","js--megaMenuHasBeenOpened","js--megaMenuSearchHasBeenOpened"),document.querySelector('.c-mega-menu-full-search [type="search"]').focus()}))})),Array.from(document.querySelectorAll(".js__closeSearchModal")).forEach((e=>{e.addEventListener("click",(function(){searchStateClose()}))})),Array.from(document.querySelectorAll(".js__megaMenuBackButton")).forEach((e=>{e.addEventListener("click",(function(){megaMenuStateClose()}))})),document.addEventListener("keydown",(e=>{e.repeat||"Escape"!==e.key||(megaMenuStateClose(),megaMenuClose(),searchStateClose())})),document.addEventListener("click",(function(e){e.target.closest(".c-site-header__nav")||(megaMenuStateClose(),megaMenuClose())}),!1),Array.from(document.querySelectorAll(".js__openDropdown")||[]).forEach((e=>{e.onclick=function(){e.nextElementSibling.classList.toggle("js--openedDropdown")}}));