/*! Notes...

    Author: Jay George
    Author URI: https://jaygeorge.co.uk

    ABOUT THIS JAVASCRIPT
    ===================================================
    The following is placed in the `head` file as an inline script to improve performance
    <script>
        // Tell the html ASAP (without JS) to prevent a flicker of DOM changes e.g. nav collapsed.
        document.querySelector('html').classList.remove('no-js');
        document.querySelector('html').classList.add('js');
    <\/script>

    - JS 'hooks' in the DOM are prefixed with `__` and written in camel case like this `js__thisIsAHook`
    - Classes added by JS are prefixed with `--` and written in camel case like this `js--thisHasBeenAddedByJS`

*/
function megaMenuClose(){Array.from(document.querySelectorAll("nav")||[]).forEach((e=>{e.classList.remove("js--megaMenuActive")})),Array.from(document.querySelectorAll(".c-mega-menu-container")||[]).forEach((e=>{e.classList.add("js--megaMenuClosed"),e.classList.remove("js--megaMenuActive")})),Array.from(document.querySelectorAll(".js--megaMenuActiveCurrentMenu")||[]).forEach((e=>{e.classList.remove("js--megaMenuActiveCurrentMenu")}))}function adjustMegaMenuFormFactor(){window.innerWidth>1200&&document.querySelector("html").classList.remove("js--navHasBeenOpened")}Array.from(document.querySelectorAll(".js__nav-mobile-button")||[]).forEach((e=>{e.onclick=function(){document.querySelector("html").classList.toggle("js--navIsOpen"),document.querySelector("html").classList.add("js--navHasBeenOpened")}})),window.onresize=adjustMegaMenuFormFactor,Array.from(document.querySelectorAll(".js__megaMenuInitiate")).forEach((e=>{e.addEventListener("click",(function(n){document.querySelector("html").classList.contains("js--megaMenuHasBeenOpened")&&document.querySelector("html").classList.add("js--megaMenuHasBeenOpened-fadeFromNowOn"),n.preventDefault(),megaMenuClose(),document.querySelector(".js__megaMenuInitiate").focus(),document.querySelector("html").classList.add("js--megaMenuHasBeenOpened"),e.nextElementSibling.classList.toggle("js--megaMenuActive"),e.classList.toggle("js--megaMenuActiveCurrentMenu"),setTimeout((function(){e.closest("nav").classList.add("js--megaMenuActive")}),50)}))})),Array.from(document.querySelectorAll(".js__megaMenuBackButton")).forEach((e=>{e.addEventListener("click",(function(){megaMenuClose()}))})),document.addEventListener("keydown",(e=>{e.repeat||"Escape"!==e.key||megaMenuClose()})),document.addEventListener("click",(function(e){e.target.closest(".c-site-header__nav")||(megaMenuClose(),document.querySelector("html").classList.add("js--megaMenuHasBeenClosed"),document.querySelector("html").classList.remove("js--megaMenuHasBeenOpened-fadeFromNowOn","js--megaMenuHasBeenOpened"))}),!1);